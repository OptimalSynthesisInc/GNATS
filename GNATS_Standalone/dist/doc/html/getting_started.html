<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GNATS: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gnats_customized.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNATS
   </div>
   <div id="projectbrief">Generalized National Airspace Trajectory-Prediction System</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('getting_started.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sec_firstProgram">First Program</a></li>
<li class="level1"><a href="#sec_loadLibrary">1. Load GNATS library</a></li>
<li class="level1"><a href="#sec_getNATSClient">2. Start NATSStandalone and get interfaces</a></li>
<li class="level1"><a href="#sec_writeLogic">3. Write your logic</a></li>
<li class="level1"><a href="#sec_disconnectFromNATSServer">4. Stop NATSStandalone</a></li>
</ul>
</div>
<div class="textblock"><p>In this topic we will talk about how to get GNATS Standalone to work from scratch.</p>
<p>Test run After you unzip all files, open a terminal console, navigate to NATS_Standalone directory.<br />
 On Linux, type </p><div class="fragment"><div class="line">./TestRun.sh</div></div><!-- fragment --><p>On Windows, type </p><div class="fragment"><div class="line">TestRun.bat</div></div><!-- fragment --><p>This script will test starting GNATS Standalone and stopping it. You should be able to see the screen text like<br />
 <img src="screenshot_testrun.png" alt="" class="inline"/>
<p><br />
</p>
<h1><a class="anchor" id="sec_firstProgram"></a>
First Program</h1>
<p>From here, we can start to develop our first GNATS program.</p>
<p>Use <b>NATS_Standalone/sample/DEMO_Gate_To_Gate_Simulation_SFO_PHX_x.x.py</b> as an example.</p>
<p>The basic procedure to write a GNATS program is to: </p><ol>
<li>
Load GNATS library </li>
<li>
Start NATSStandalone instance and get interfaces </li>
<li>
Write your logic </li>
<li>
Stop NATSStandalone </li>
</ol>
<p><br />
</p>
<p>The following steps illustrate the basic concept no matter you are using Python or MATLAB.</p>
<h1><a class="anchor" id="sec_loadLibrary"></a>
1. Load GNATS library</h1>
<ul>
<li>
If you are writing Python<br />
 <div class="fragment"><div class="line"><span class="comment"># Import header</span></div><div class="line"><span class="keyword">from</span> NATS_Python_Header <span class="keyword">import</span> *</div></div><!-- fragment -->  </li>
<li>
If you are writing MATLAB<br />
 <div class="fragment"><div class="line">% Run header</div><div class="line">run(<span class="stringliteral">&#39;NATS_MATLAB_Header.m&#39;</span>);</div></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="sec_getNATSClient"></a>
2. Start NATSStandalone and get interfaces</h1>
<div style="margin-left: 25px;"> <div class="fragment"><div class="line">clsNATSStandalone = JClass(<span class="stringliteral">&#39;NATSStandalone&#39;</span>)</div><div class="line"><span class="comment"># Start GNATS Standalone environment</span></div><div class="line">gnatsStandalone = clsGNATSStandalone.start()</div><div class="line"></div><div class="line"><span class="comment"># Get SimulationInterface</span></div><div class="line">simulationInterface = gnatsStandalone.getSimulationInterface()</div></div><!-- fragment --></div><div style="margin-left: 25px;"> As you see, we call GNATSStandalone.start() function to get the GNATSStandalone instance. After that, we obtain another interface(SimulationInterface) from it. For the detail interfaces we can get, please refer to the <a href="classGNATSClient.html">API Document</a>. </div><h1><a class="anchor" id="sec_writeLogic"></a>
3. Write your logic</h1>
<div style="margin-left: 25px;"> GNATS API provides diversity of purposes in aircraft trajectory simulation. Users are able to accomplish various tasks using GNATS API. For a demo purpose, we use this simple example to explain a typical logic about trajectory simulation. The same example can be seen in NATS_Client/sample/basic_python_example.py <div class="fragment"><div class="line"><span class="comment"># Clear trajectory data</span></div><div class="line">simulationInterface.clear_trajectory()</div><div class="line"></div><div class="line"><span class="comment"># Load wind data</span></div><div class="line">environmentInterface.load_rap(<span class="stringliteral">&quot;share/tg/rap&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Load aircraft data</span></div><div class="line">aircraftInterface.load_aircraft(<span class="stringliteral">&quot;share/tg/trx/TRX_DEMO_SFO_PHX_GateToGate.trx&quot;</span>, <span class="stringliteral">&quot;share/tg/trx/TRX_DEMO_SFO_PHX_mfl.trx&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Set up simulation</span></div><div class="line"><span class="comment"># Set total simulation time to 11000 seconds, time step is 10 seconds</span></div><div class="line">simulationInterface.setupSimulation(11000, 10)</div><div class="line"></div><div class="line"><span class="comment"># Start simulation</span></div><div class="line">simulationInterface.start()</div><div class="line"></div><div class="line"><span class="comment"># This while loop block is to check the simulation status.  Due to aircraft data size and different simulation time, there is no method to forsee how much time the simulation will take.  Therefore, we constantly check simulation status.  When the simulation status is ENDED, we can continue.</span></div><div class="line"><span class="keywordflow">while</span> <span class="keyword">True</span>:</div><div class="line">  runtime_sim_status = sim.get_runtime_sim_status()</div><div class="line">  <span class="keywordflow">if</span> (runtime_sim_status == NATS_SIMULATION_STATUS_ENDED) :</div><div class="line">      <span class="keywordflow">break</span></div><div class="line">  <span class="keywordflow">else</span>:</div><div class="line">      time.sleep(1)</div><div class="line"></div><div class="line"><span class="comment"># Write trajectory result to a file</span></div><div class="line">millis = int(round(time.time() * 1000))</div><div class="line"><span class="keywordflow">print</span> <span class="stringliteral">&quot;Outputting trajectory data.  Please wait....&quot;</span></div><div class="line"><span class="comment"># Output the trajectory result file</span></div><div class="line">simulationInterface.write_trajectories(<span class="stringliteral">&quot;Sample_output_trajectory_&quot;</span> + str(millis) + <span class="stringliteral">&quot;.csv&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Release aircraft data</span></div><div class="line">aircraftInterface.release_aircraft()</div><div class="line"></div><div class="line"><span class="comment"># Release wind data</span></div><div class="line">environmentInterface.release_rap()</div></div><!-- fragment --> </div><h1><a class="anchor" id="sec_disconnectFromNATSServer"></a>
4. Stop NATSStandalone</h1>
<div style="margin-left: 25px;"> In client program, simply call <div class="fragment"><div class="line"><span class="preprocessor"># Stop GNATS Standalone environment</span></div><div class="line"><span class="preprocessor">gnatsStandalone.stop()</span></div></div><!-- fragment --> <br />
 If you are writing Python, you still need to shut down the JVM environment. <div class="fragment"><div class="line">shutdownJVM()</div></div><!-- fragment --> </div><p><br />
 </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
</body>
</html>
