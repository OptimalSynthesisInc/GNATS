<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GNATS: Input &amp; Output</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="nats_customized.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNATS
   </div>
   <div id="projectbrief">Generalized National Airspace Trajectory-Prediction System</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('io.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Input &amp; Output </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Here we want to give clear discussion about the input and output of GNATS system.</p>
<ul>
<li>
<div> <div style="display: inline-block; width: 50px; vertical-align: text-top;">Input:</div> <div style="display: inline-block; width: 800px; vertical-align: text-top;">Aircraft <b>profile data</b> and/or <b>flight plan TRX file</b>.<br />
 The <b>profile data</b> is required. It includes the basic aircraft identification, aircraft type and other related information. GNATS relies on these data to decide the aircraft performance capability during simulation.<br />
 The <b>flight plan TRX file</b> is also important in that it tells GNATS your detail plan from the starting point to the destination airport. GNATS uses it as guideline to predict aircraft state in every time step.<br />
 However, flight plan TRX file is not required if you try to send external aircraft state to GNATS. In this special case, GNATS will not ask for flight plan data.</div> </div> </li>
<li>
<div> <div style="display: inline-block; width: 50px; vertical-align: text-top;">Output:</div> <div style="display: inline-block; width: 800px; vertical-align: text-top;">File of aircraft trajectory result.<br />
 Currently GNATS can output it in the following formats:<br />
<ul>
<li>CSV<br />
</li>
<li>KML<br />
</li>
<li>XML  </li>
</ul>
</div></div></li>
</ul>
<div><div style="display: inline-block; width: 800px; vertical-align: text-top;"></div></div><h1><a class="anchor" id="sec_io_input"></a>
Input</h1>
<div><div style="display: inline-block; width: 800px; vertical-align: text-top;">There are two types of aircraft simulation in GNATS: <ul>
<li>
Normal aircraft simulation: Simulate using input from TRX file. </li>
<li>
External aircraft simulation: External aircraft data is sent to GNATS Server. GNATS client program sends state data of external aircrafts as input to GNATS Server. </li>
</ul>
</div></div><div><div style="display: inline-block; width: 800px; vertical-align: text-top;"></div></div><h2><a class="anchor" id="subsec_io_input_normalAircraft"></a>
Input data of normal aircraft</h2>
<div><div style="display: inline-block; width: 800px; vertical-align: text-top;">The following statement loads the normal aircraft TRX file as input of GNATS. <div class="fragment"><div class="line">aircraftInterface.load_aircraft(<span class="stringliteral">&quot;share/tg/trx/TRX_DEMO_SFO_PHX_GateToGate.trx&quot;</span>, <span class="stringliteral">&quot;share/tg/trx/TRX_DEMO_SFO_PHX_mfl.trx&quot;</span>)</div></div><!-- fragment --> This code statement load_aircraft() takes 2 arguments: TRX file and MFL file.<br />
 TRX file contains the aircraft profile data as well as their flight plans. One TRX file may store records of multiple aircraft. MFL file contains the maximum flight level data and also may have multiple aircraft data in single file.<br />
 Notice: <span style="color: #FF0000;">The path of the TRX and MFL files is, by default, under NATS_Server/share/tg/trx directory. The TRX and MFL files must be placed on GNATS Server, not GNATS Client.</span></div></div><div><div style="display: inline-block; width: 800px; vertical-align: text-top;"></div></div><h2><a class="anchor" id="subsec_io_input_externalAircraft"></a>
Input data of external aircraft</h2>
<div><div style="display: inline-block; width: 800px; vertical-align: text-top;">Sending data of external aircraft from GNATS Client to Server consists of two steps: <ul>
<li>
Create external aircraft profile data<br />
 <div class="fragment"><div class="line">simulationInterface.externalAircraft_create_trajectory_profile(String ac_id, String ac_type, String origin_airport, String destination_airport, <span class="keywordtype">float</span> cruise_altitude_ft, <span class="keywordtype">float</span> cruise_tas_knots, <span class="keywordtype">double</span> latitude_deg, <span class="keywordtype">double</span> longitude_deg, <span class="keywordtype">double</span> altitude_ft, <span class="keywordtype">double</span> rocd_fps, <span class="keywordtype">double</span> tas_knots, <span class="keywordtype">double</span> course_deg, String flight_phase)</div></div><!-- fragment --> This function creates aircraft profile data on GNATS Server. This only needs to be done once.  </li>
<li>
Send external aircraft state data<br />
 <div class="fragment"><div class="line">simulationInterface.externalAircraft_inject_trajectory_state_data(String ac_id, <span class="keywordtype">double</span> latitude_deg, <span class="keywordtype">double</span> longitude_deg, <span class="keywordtype">double</span> altitude_ft, <span class="keywordtype">double</span> rocd_fps, <span class="keywordtype">double</span> tas_knots, <span class="keywordtype">double</span> course_deg, String flight_phase, <span class="keywordtype">long</span> timestamp_utc_millisec)</div></div><!-- fragment --> This function sends/injects aircraft state data to GNATS Server. We usually call this function in every time step to send the current state.  </li>
</ul>
</div></div><div><div style="display: inline-block; width: 800px; vertical-align: text-top;"></div></div><h1><a class="anchor" id="sec_io_output"></a>
Output</h1>
<div><div style="display: inline-block; width: 800px; vertical-align: text-top;">Output of GNATS simulation is done by writing the result of trajectory data to a file. <div class="fragment"><div class="line">simulationInterface.write_trajectories(<span class="stringliteral">&quot;Output_trajectory.csv&quot;</span>)</div></div><!-- fragment --> This function tells GNATS Server to write trajectory result to NATS_Server/Output_trajectory.csv. This file is saved on GNATS Server, not on client-side. <br />
<br />
 To download the latest trajectory file, we can execute <div class="fragment"><div class="line">simulationInterface.requestDownloadTrajectoryFile(<span class="stringliteral">&quot;Client_Downloaded.csv&quot;</span>)</div></div><!-- fragment --> <br />
 On the client-side, we will see the Client_Downloaded.csv saved under NATS_Client directory.<br />
 However, due to busy file transfer requests or huge file size, the file transfer may not start immediately.<br />
 If the trajectory file is deleted on GNATS Server, this function will not save anything to client-side.</div></div><div><div style="display: inline-block; width: 800px; vertical-align: text-top;"></div></div><div><div style="display: inline-block; width: 800px; vertical-align: text-top;"> </div></div></div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
</body>
</html>
